:root{
  /* gradient color scheme: purple -> light green */
  --gradient-start: #7c3aed; /* purple */
  --gradient-end: #bbf7d0;   /* light green */
  --bg: linear-gradient(180deg, rgba(124,58,237,0.06), rgba(187,247,208,0.04));
  --card: #ffffff;
  --muted: #425466;
  --accent: var(--gradient-start);
  --accent-600: #5b21b6;
  --danger: #ef4444;
  --glass: rgba(255,255,255,0.6);
  --shadow: 0 8px 22px rgba(20,24,40,0.06);
  --radius: 10px;
}

:root[data-theme='dark']{
  --gradient-start: #7c3aed; /* purple */
  --gradient-end: #60a86b;   /* muted green */
  --bg: linear-gradient(180deg, rgba(20,10,40,0.6), rgba(10,30,20,0.45));
  --card: #071024;
  --muted: #9aa4b2;
  --accent: var(--gradient-end);
  --accent-600: #2f855a;
  --danger: #fda4af;
  --glass: rgba(255,255,255,0.02);
  --shadow: 0 10px 30px rgba(2,6,23,0.6);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
  background:linear-gradient(180deg,var(--bg),#ffffff);
  margin:0; padding:28px; color:#0f172a; -webkit-font-smoothing:antialiased;
}

.container{max-width:1100px;margin:0 auto}

.site-header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:18px}
.brand h1{margin:0;font-size:1.4rem}
.sub{color:var(--muted);margin:4px 0 0}
.muted{color:var(--muted)}
#create, .create{margin-bottom:18px}
.create{background:linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.85));padding:12px;border-radius:var(--radius);box-shadow:var(--shadow);border:1px solid rgba(0,0,0,0.03)}
#task-form{display:flex;gap:10px;align-items:center}
#task-form input[type=text]{padding:12px;border:1px solid #e6eefb;border-radius:8px;background:transparent;min-width:180px;flex:1}
#task-form input::placeholder{color:#94a3b8}
.primary{padding:10px 14px;border:none;border-radius:8px;background:linear-gradient(90deg,var(--gradient-start),var(--gradient-end));color:#071024;cursor:pointer;box-shadow:0 10px 22px rgba(124,58,237,0.12);transition:transform .12s ease, box-shadow .12s ease}
.primary:active{transform:translateY(1px)}

.icon-btn{border:none;background:transparent;padding:6px;border-radius:8px;cursor:pointer;font-size:1.05rem}
.icon-btn[aria-pressed="true"]{background:rgba(255,255,255,0.06)}

.board{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
.column{background:linear-gradient(180deg, rgba(124,58,237,0.06), rgba(187,247,208,0.06));padding:14px;border-radius:12px;min-height:320px;border:1px solid rgba(15,23,42,0.03)}
.column h3{margin:0 0 12px 0;display:flex;justify-content:space-between;align-items:center;font-size:1rem}
.count{font-size:.85rem;color:var(--muted)}
.dropzone{min-height:220px;padding:8px;display:flex;flex-direction:column;gap:10px;transition:background .15s ease,outline .08s ease}

.card{background:var(--card);padding:12px;border-radius:10px;border:1px solid #eef3ff;box-shadow:0 3px 8px rgba(12,20,40,0.04);cursor:grab;outline:none;transition:transform .12s ease,box-shadow .12s ease}
.card:focus{box-shadow:0 6px 20px rgba(37,99,235,0.14);transform:translateY(-3px)}
.card.dragging{opacity:0.6}
.card h4{margin:0 0 6px 0;font-size:1rem;word-break:break-word}
.card p{margin:0;color:var(--muted);font-size:.92rem}
.meta{display:flex;justify-content:space-between;margin-top:10px;font-size:.78rem;color:var(--muted);align-items:center}
.btns{display:flex;gap:8px}
.btn{border:none;padding:6px 8px;border-radius:8px;cursor:pointer;background:#f1f5ff;color:var(--accent);font-weight:600}
.btn.danger{background:#fff5f5;color:var(--danger);border:1px solid #fee2e2}
.empty{color:var(--muted);font-style:italic;padding:8px}

.dropzone.drag-over{outline:3px dashed rgba(37,99,235,0.18);outline-offset:6px;background:rgba(37,99,235,0.02)}

.visually-hidden{position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap}

kbd{background:#111827;color:#fff;padding:2px 6px;border-radius:6px;font-size:.8rem;border:1px solid rgba(255,255,255,0.06)}

@media (max-width:1000px){.board{grid-template-columns:repeat(2,1fr)}}
@media (max-width:700px){.board{grid-template-columns:1fr}.site-header{flex-direction:column;align-items:flex-start}}

/* modal */
.modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:1200}
.modal[aria-hidden="false"]{display:flex}
.modal-backdrop{position:absolute;inset:0;background:rgba(2,6,23,0.45)}
.modal-panel{position:relative;background:var(--card);padding:18px;border-radius:12px;box-shadow:var(--shadow);width:min(560px,94%);z-index:1}
.modal-actions{display:flex;gap:8px;justify-content:flex-end;margin-top:12px}

/* animations */
.card{transition:transform .18s cubic-bezier(.2,.8,.2,1),opacity .18s}
.card.adding{animation:cardIn .22s ease}
.card.removing{animation:cardOut .2s ease forwards}
@keyframes cardIn{from{opacity:0;transform:translateY(8px) scale(.995)}to{opacity:1;transform:none}}
@keyframes cardOut{to{opacity:0;transform:scale(.98) translateY(-6px);height:0;margin:0;padding:0}}

.modal-panel input{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(0,0,0,0.06);margin-top:8px}

/* app popup (alerts & confirms) */
#popup-root{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;pointer-events:none;z-index:1400}
.popup{pointer-events:auto;background:var(--card);padding:18px;border-radius:10px;box-shadow:var(--shadow);min-width:280px;max-width:90%;border:1px solid rgba(0,0,0,0.06);animation:popupIn .16s ease}
.popup p{margin:0 0 12px 0;color:var(--muted)}
.popup .popup-actions{display:flex;gap:8px;justify-content:flex-end}
.popup .btn{min-width:72px}
@keyframes popupIn{from{opacity:0;transform:translateY(6px) scale(.995)}to{opacity:1;transform:none}}
